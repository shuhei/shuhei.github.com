{"site":{"title":"Shuhei Kagawa","author":"Shuhei Kagawa","perPage":3,"newPageExtension":"markdown","blogDir":"blog","sourceDir":"source","layoutDir":"_layouts","postDir":"_posts","cssFiles":["node_modules/highlight.js/styles/monokai-sublime.css","source/_css/style.css"]},"post":{"layout":"post","title":"Wordpress で Out of memory","published":true,"date":"2010-06-01 23:40","comments":true,"tags":null,"categories":[],"url":"/blog/2010/06/01/out-of-memory-with-wordpress/","content":"<p>このブログは自宅サーバで運用しているのですが、5 月の頭、そして今日とサーバが応答しなくなっています。<br />\n再起動するとほぼ治るのですが、wp_options テーブルが少し壊れていたり。<br />\nsyslog を見ると Out of memory で kernel が apache2 を kill している様子。<br />\n運用しているのはほとんど Wordpress だけなので、Wordpress が原因のはず。</p>\n<p>積んでるメモリはたった 512MB。<br />\n人間様のアクセス数はあまりないのですが、検索エンジンのクローラは人並みに来ています。<br />\nおそらく、クローラのアクセスに耐えられなくなるのでしょう。</p>\n<p>定期的な再起動、Apache や <span class=\"caps\">PHP</span> の設定、MySQL のクエリキャッシュやメモリ使用量の設定など、対策はいろいろありそうですが、とりあえず今回は楽をして Wordpress のキャッシュプラグイン <a href=\"http://wordpress.org/extend/plugins/wp-super-cache/\">WP Super Cache</a> を入れて様子を見ることにしました。<br />\n&#8220;Super&#8221; Cache とはなかなかの名前です。<br />\nインストールはとても簡単。</p>\n<p>さて、一ヶ月後どうなることやら。</p>"}}