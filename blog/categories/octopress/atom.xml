<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Octopress | Blog]]></title>
  <link href="http://shuheikagawa.com/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://shuheikagawa.com/"/>
  <updated>2013-10-27T16:42:01+09:00</updated>
  <id>http://shuheikagawa.com/</id>
  <author>
    <name><![CDATA[Shuhei Kagawa]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Category index for Octopress]]></title>
    <link href="http://shuheikagawa.com/blog/2012/04/03/category-index-for-octopress/"/>
    <updated>2012-04-03T09:20:00+09:00</updated>
    <id>http://shuheikagawa.com/blog/2012/04/03/category-index-for-octopress</id>
    <content type="html"><![CDATA[<p>サイドバーにカテゴリー一覧を出してみました。</p>

<p>{% codeblock lang:diff <em>config.yml %}
diff &mdash;git a/</em>config.yml b/<em>config.yml
index 5c7d335..7ad03bb 100644
&mdash;&ndash; a/</em>config.yml
+++ b/_config.yml
@@ -45,7 +45,7 @@ titlecase: true       # Converts page and post titles to titlecase</p>

<p> # list each of the sidebar modules you want to include, in the order you want them to appear.
 # To add custom asides, create files in /source/_includes/custom/asides/ and add them to the list like &lsquo;custom/asides/custom_aside_name.html&rsquo;
-default_asides: [asides/recent_posts.html, asides/github.html, asides/twitter.html, asides/delicious.html, asides/pinboard.html, asides/googleplus.html]
+default_asides: [asides/recent_posts.html, custom/asides/categories.html, asides/github.html, asides/twitter.html, asides/delicious.html, asides/pinboard.</p>

<p> # Each layout uses the default asides, but they can have their own asides instead. Simply uncomment the lines below
 # and add an array with the asides you want to use.
{% endcodeblock %}</p>

<p>{% codeblock lang:html source/_includes/custom/asides/categories.html %}
{% raw %}
<section>
  <h1>Categories</h1>
  <ul></p>

<pre><code>{% for category in site.categories %}
  &lt;li&gt;{{ category | category_link }}&lt;/li&gt;
{% endfor %}
</code></pre>

<p>  </ul>
</section>
{% endraw %}
{% endcodeblock %}</p>

<p>2013-10-27 編集: 現在はデフォルトで <code>category_link</code> メソッドが追加されているので、以下の修正は不要です。</p>

<p>{% codeblock lang:diff plugins/category_generator.rb %}
diff &mdash;git a/plugins/category_generator.rb b/plugins/category_generator.rb
index bb5fd32..28bf7e0 100644
&mdash;&ndash; a/plugins/category_generator.rb
+++ b/plugins/category_generator.rb
@@ -156,6 +156,18 @@ module Jekyll</p>

<pre><code>   end
 end
</code></pre>

<ul>
<li> # Outputs a link of a category.</li>
<li> #</li>
<li> #  +category+ is an item of site.categories.</li>
<li> #</li>
<li> # Returns string</li>
<li> #</li>
<li> def category_link(category)</li>
<li>   dir = @context.registers[:site].config[&lsquo;category_dir&rsquo;]</li>
<li>   category = category[0]</li>
<li>   &ldquo;<a class='category' href='http://shuheikagawa.com/#{dir}/#{category.gsub(/_|\P{Word}/, '-').gsub(/-{2,}/, '-').downcase}/'>#{category}</a>&rdquo;</li>
<li> end
+
 # Outputs the post.date as formatted html, with hooks for CSS styling.
 #
 #  +date+ is the date object to format as HTML.
{% endcodeblock %}</li>
</ul>


<p><a href="https://gist.github.com/shuhei/2288181">Add a category index to Octopress</a></p>
]]></content>
  </entry>
  
</feed>
