<!doctype html>
    <html >
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1">
        <title data-react-helmet="true">Playing with vanilla WebGL API - Shuhei Kagawa</title>
        <link rel="icons" sizes="16x16 32x32 48x48" href="/favicon.ico">
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for shuheikagawa.com" href="/blog/feed/rss.xml">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Asap:400,700">
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-309586-8', 'shuheikagawa.com');
          ga('send', 'pageview');
        </script>
        <style>.hljs{display:block;overflow-x:auto;padding:.5em;background:#23241f}.hljs,.hljs-subst,.hljs-tag{color:#f8f8f2}.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ae81ff}.hljs-code,.hljs-section,.hljs-selector-class,.hljs-title{color:#a6e22e}.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}.hljs-attr,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#f92672}.hljs-attribute,.hljs-symbol{color:#66d9ef}.hljs-class .hljs-title,.hljs-params{color:#f8f8f2}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-string,.hljs-template-variable,.hljs-type,.hljs-variable{color:#e6db74}.hljs-comment,.hljs-deletion,.hljs-meta{color:#75715e}body{background-color:#f8f8f2;font-family:Asap,sans-serif;padding:0;margin:0}a{color:#000;transition:color .3s ease}a:hover{color:#999}blockquote{border-left:10px solid #eeeee0;font-style:italic;padding:.1em 1.2em;margin-left:0;quotes:"\201C""\201D""\2018""\2019"}blockquote p:first-child:before{color:#ccccc0;content:open-quote;font-family:serif;font-size:3em;font-weight:700;line-height:.1em;margin-right:.2em;vertical-align:-.4em}blockquote cite{color:#999990}blockquote cite:before{content:"- "}.header{padding:25px 0 10px;text-align:center}.header__title{margin:0 0 15px}.header__title a{text-decoration:none}.menu{list-style-position:outside;list-style-type:none;padding:10px 0;margin:0}.menu__item{display:inline-block;padding:0 20px}.menu__item a{font-weight:700;text-decoration:none}.footer{padding:30px 0;text-align:center}.title a{text-decoration:none}.post,.post-list{background:#fff;border-top:8px solid #fbf52f;padding:30px 0 20px}.post{margin:0 0 40px}.post:last-child{margin-bottom:0}.post .content,.post .post-header{margin:0 auto;width:700px}.post .title{margin:0}.post .meta{color:#999;font-size:small;margin:10px 0 25px}.post-list .title{margin:0 auto 10px;width:700px}.post-list-item{line-height:1.6em;padding:10px 0;margin:0 auto;width:700px}.post-list-item:after{content:"";clear:both;display:block}.post-list-item__date{color:#999;float:left;font-size:small;width:80px}.post-list-item__title{font-size:large;float:left;width:620px;margin:0}.post-list-item__title a{font-weight:700;text-decoration:none}.content{line-height:1.6em}.content img{max-width:100%}.social-buttons{margin:2em 0 0}.comments{margin:0 auto 3em;width:700px}.table-wrapper{overflow-x:auto}table{border-collapse:collapse;margin:2em 0}th{font-weight:400;text-align:left}tbody{border-top:1px solid #333;padding:.5em 0}td,th{padding-right:1em}.hljs{line-height:1.5em;padding:10px 15px;overflow-x:auto}code{background-color:#f8f8f2;padding:.1em .2em;font-size:.85em;font-family:Monaco,'Lucida Console',monospace}.pagination{list-style-position:outside;list-style-type:none;padding:0;margin:-20px auto 0;width:700px}.pagination:after{content:"";clear:both;display:block}.pagination li{float:left;font-weight:700;min-height:1em}.pagination a{text-decoration:none}.pagination__prev-page{float:left;width:35%}.pagination__prev-page a:before{content:"< "}.pagination__next-page{float:right;text-align:right;width:35%}.pagination__next-page a:after{content:" >"}.pagination__archives{text-align:center;width:30%}@media only screen and (max-width:767px){h1{font-size:24px}.comments,.pagination,.post .content,.post .post-header,.post-list .title,.post-list-item{margin-left:20px;margin-right:20px;width:auto}.post-list-item__title{width:100%}.hljs{margin-left:-20px;margin-right:-20px;padding:1.4em 20px}}</style>
      </head>
      <body>
        <div id="container"><div data-reactroot=""><header class="header"><h1 class="header__title"><a href="/">Shuhei Kagawa</a></h1><nav><ul class="menu"><li class="menu__item"><a href="/about/">About</a></li><li class="menu__item"><a href="/works/">Works</a></li><li class="menu__item"><a href="/blog/archives/">Archives</a></li></ul></nav></header><div class="main"><div><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2015/02/15/playing-with-vanilla-webgl-api/">Playing with vanilla WebGL API</a></h1><div class="meta">@<span class="date">2015-02-15 16:21</span> - <span class="category">JavaScript</span>, <span class="category">WebGL</span></div></div><div class="content"><div><p>Started writing in English on a whim.</p>
<p>I&#39;ve been learning vanilla WebGL with <a href="https://github.com/stackgl/webgl-workshop">webgl-workshop</a> since the last weekend. It took some time for me to understand concepts like array buffer and element buffer but it was fun to learn the basics that we stand on.</p>
<p>The team behind <a href="https://github.com/stackgl/webgl-workshop">webgl-workshop</a> creates a set of utility modules called <a href="http://stack.gl/"><code>stackgl</code></a>. It embraces the UNIX philosophy, &quot;Write programs that do one thing and do it well.&quot; Even though the workshop doesn&#39;t use <code>stackgl</code> libraries, I liked the way the exercises were organized as small modules.</p>
<p>Before moving to another workshop module, <a href="https://github.com/stackgl/shader-school">shader-school</a>, I ported my old openFrameworks experiment with vanilla WebGL and Audio User Media in order to check if I could use what I learned so far.</p>
<p><a href="/blurred-cube"><img src="/images/blurred-cube-webgl.png" alt="Blurred Cube"></a></p>
<p><a href="/blurred-cube">Blurred Cube</a></p>
<p>The hardest part was randomly moving the cube&#39;s edges. Because I couldn&#39;t randomly move vertices on the array buffer, I had to rewrite buffer data frame by frame. It might be inefficient, but it works well on my laptop at least.</p>
<h2 id="steps-for-drawing-with-webgl">Steps for drawing with WebGL</h2>
<p>The exercises on <a href="https://github.com/stackgl/webgl-workshop">webgl-workshop</a> split steps into two phases, <code>init</code> and <code>draw</code>, like <a href="https://processing.org/">Processing</a>. Here I leave a note on general steps in them for later use.</p>
<h3 id="init">Init</h3>
<ol>
<li>Compile shaders and link them into a program. If you have attributes in vertex shader, don&#39;t forget to set attribute location before linking. If you have uniforms, get their locations after linking for later use.</li>
<li>Create buffers and assign data to them.</li>
<li>Create element buffers and assign data to them if necessary.</li>
<li>Create textures and assign data to them if necessary. You can use textures in fragment shader via texture unit number as uniform.</li>
</ol>
<h3 id="draw">Draw</h3>
<ol>
<li>Use program, assign data to uniforms. If they don&#39;t change frame by frame, you can do this in the setup phase.</li>
<li>Bind buffer. If you have only one buffer, you may have done this in the setup phase.</li>
<li>Draw arrays or elements.</li>
</ol>
</div></div></div><div class="comments"><div id="disqus_thread"></div><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></div><footer class="footer">Â© <!-- -->Shuhei Kagawa</footer></div></div>
        <script><!--
          window.__PRELOADED_PROPS__ = {"site":{"title":"Shuhei Kagawa","author":"Shuhei Kagawa","perPage":3,"newPageExtension":"markdown","blogDir":"blog","sourceDir":"source","layoutDir":"_layouts","postDir":"_posts","cssFiles":["node_modules/highlight.js/styles/monokai-sublime.css","source/_css/style.css"]},"post":{"layout":"post","title":"Playing with vanilla WebGL API","date":"2015-02-15 16:21","comments":true,"categories":["JavaScript","WebGL"],"url":"/blog/2015/02/15/playing-with-vanilla-webgl-api/","content":"<p>Started writing in English on a whim.</p>\n<p>I&#39;ve been learning vanilla WebGL with <a href=\"https://github.com/stackgl/webgl-workshop\">webgl-workshop</a> since the last weekend. It took some time for me to understand concepts like array buffer and element buffer but it was fun to learn the basics that we stand on.</p>\n<p>The team behind <a href=\"https://github.com/stackgl/webgl-workshop\">webgl-workshop</a> creates a set of utility modules called <a href=\"http://stack.gl/\"><code>stackgl</code></a>. It embraces the UNIX philosophy, &quot;Write programs that do one thing and do it well.&quot; Even though the workshop doesn&#39;t use <code>stackgl</code> libraries, I liked the way the exercises were organized as small modules.</p>\n<p>Before moving to another workshop module, <a href=\"https://github.com/stackgl/shader-school\">shader-school</a>, I ported my old openFrameworks experiment with vanilla WebGL and Audio User Media in order to check if I could use what I learned so far.</p>\n<p><a href=\"/blurred-cube\"><img src=\"/images/blurred-cube-webgl.png\" alt=\"Blurred Cube\"></a></p>\n<p><a href=\"/blurred-cube\">Blurred Cube</a></p>\n<p>The hardest part was randomly moving the cube&#39;s edges. Because I couldn&#39;t randomly move vertices on the array buffer, I had to rewrite buffer data frame by frame. It might be inefficient, but it works well on my laptop at least.</p>\n<h2 id=\"steps-for-drawing-with-webgl\">Steps for drawing with WebGL</h2>\n<p>The exercises on <a href=\"https://github.com/stackgl/webgl-workshop\">webgl-workshop</a> split steps into two phases, <code>init</code> and <code>draw</code>, like <a href=\"https://processing.org/\">Processing</a>. Here I leave a note on general steps in them for later use.</p>\n<h3 id=\"init\">Init</h3>\n<ol>\n<li>Compile shaders and link them into a program. If you have attributes in vertex shader, don&#39;t forget to set attribute location before linking. If you have uniforms, get their locations after linking for later use.</li>\n<li>Create buffers and assign data to them.</li>\n<li>Create element buffers and assign data to them if necessary.</li>\n<li>Create textures and assign data to them if necessary. You can use textures in fragment shader via texture unit number as uniform.</li>\n</ol>\n<h3 id=\"draw\">Draw</h3>\n<ol>\n<li>Use program, assign data to uniforms. If they don&#39;t change frame by frame, you can do this in the setup phase.</li>\n<li>Bind buffer. If you have only one buffer, you may have done this in the setup phase.</li>\n<li>Draw arrays or elements.</li>\n</ol>\n"}};
        --></script>
        <script src="/js/index.js"></script>
      </body>
    </html>