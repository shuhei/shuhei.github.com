<!doctype html><html lang="en"><head><meta charset="utf-8"><link rel="preload" href="https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYthqQBK6PYK0.woff2" as="font" crossorigin="anonymous"><link rel="preload" href="https://fonts.gstatic.com/s/librebaskerville/v14/kmKhZrc3Hgbbcjq75U4uslyuy4kn0qNcWxEQDO-Wyrs.woff2" as="font" crossorigin="anonymous"><link rel="preload" href="https://fonts.gstatic.com/s/librebaskerville/v14/kmKnZrc3Hgbbcjq75U4uslyuy4kn0qNZaxMaC82U.woff2" as="font" crossorigin="anonymous"><link rel="preload" href="https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhycKkANDPTedX18mE.woff" as="font" crossorigin="anonymous"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><meta name="viewport" content="width=device-width,initial-scale=1"><title>Shuhei Kagawa</title><link rel="icon" sizes="16x16 32x32 48x48" href="/favicon.ico"><link rel="alternate" type="application/atom+xml" title="Atom feed of Shuhei Kagawa" href="/blog/feed.xml"><style>:root{--bg-color:#f9f9f9;--text-color:#222;--highlight-color:#095ae8;--code-text-color:var(--code-mono-1);--code-bg-color:#fff;--syntax-hue:230;--syntax-saturation:1%;--syntax-brightness:100%;--code-mono-1:hsl(var(--syntax-hue),8%,24%);--code-mono-2:hsl(var(--syntax-hue),6%,44%);--code-mono-3:hsl(var(--syntax-hue),4%,64%);--code-hue-1:#0184bc;--code-hue-2:#1d56d3;--code-hue-3:#a626a4;--code-hue-4:#188816;--code-hue-5:#ce3527;--code-hue-5-2:#ca1243;--code-hue-6:#986801;--code-hue-6-2:#986801;--body-font-family:"Libre Baskerville",serif;--heading-font-family:"Libre Franklin",sans-serif;--code-font-family:"DM Mono",monospace}body{background:#f9f9f9;background:var(--bg-color);color:#222;color:var(--text-color);font-family:Libre Baskerville,serif;font-family:var(--body-font-family);font-size:16px;line-height:1.9;margin:0;padding:0}.container{margin:0 auto;padding:0 20px;width:700px}a{color:#095ae8;color:var(--highlight-color);text-decoration:none;transition:color .5s ease}a:hover{text-decoration:underline}.header{display:flex;padding:1.5em 0 1em}.header__title{flex-grow:1;font-size:1em;font-weight:400;margin:0 10px 0 0}.header__title a{color:#222;color:var(--text-color)}.header__nav{flex-grow:0}.menu{list-style-position:outside;list-style-type:none;margin:0;padding:0;text-align:right}.menu__item{display:inline-block;padding:0 0 0 .7em}.menu__item a{color:#222;color:var(--text-color)}.footer{padding:3em 0 4em;text-align:center}.title{font-family:Libre Franklin,sans-serif;font-family:var(--heading-font-family);font-size:3em;line-height:1.1;margin:0 0 .2em}.title a{color:#222;color:var(--text-color);text-decoration:none}.post,.post-list{padding:1.7em 0 1.25em}.post:after{content:"* * *";display:block;font-family:Libre Franklin,sans-serif;font-family:var(--heading-font-family);font-size:4.5em;font-weight:700;line-height:1;margin:.9em auto 0;text-align:center}.post .meta{font-size:.75em}.post-list .title{margin-bottom:10px}.post-list-item{display:flex;line-height:1.6em;padding:10px 0}.post-list-item__date{flex-shrink:0;font-size:.8em;width:8em}.post-list-item__title{font-family:Libre Franklin,sans-serif;font-family:var(--heading-font-family);font-size:1.3em;font-weight:700;margin:0}.post-list-item__title a{color:#222;color:var(--text-color);text-decoration:none}.content h2,.content h3,.content h4,.content h5,.content h6{font-family:Libre Franklin,sans-serif;font-family:var(--heading-font-family);margin:1em 0 0}.content h2{font-size:2.2em;line-height:1.1}.content h3{font-size:1.6em;line-height:1.3}.content h4{font-size:1.2em}.content img{height:auto;max-width:100%}.content p{margin:1.15em 0}.img-wrapper{display:block;text-align:center}.comments{margin-bottom:3em}ol,ul{list-style-position:outside;padding-left:1.4em}.table-wrapper{margin:1.15em 0;overflow-x:auto}.table-wrapper table{border-collapse:collapse;margin:0;width:100%}tr{vertical-align:top}th{font-weight:400;text-align:left}tbody{border-bottom:1px solid #333;border-top:1px solid #333;padding:.5em 0}td,th{padding-right:1em}code{background-color:#fff;background-color:var(--code-bg-color);color:#383a42;color:var(--code-text-color);font-family:DM Mono,monospace;font-family:var(--code-font-family);font-size:.9em;padding:0 .3em}.code__filename{background-color:#666;display:inline-block;font-size:.85em;margin-bottom:13px;padding:5px 10px}.hljs{-webkit-overflow-scrolling:touch;background-color:#fff;background-color:var(--code-bg-color);color:#383a42;color:var(--code-text-color);display:block;line-height:1.5em;overflow-x:auto;padding:1em 20px}.hljs-comment,.hljs-quote{color:#696c77;color:var(--code-mono-2);font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--code-hue-3)}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ce3527;color:var(--code-hue-5)}.hljs-literal{color:#0184bc;color:var(--code-hue-1)}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#188816;color:var(--code-hue-4)}.hljs-built_in,.hljs-class .hljs-title{color:#986801;color:var(--code-hue-6-2)}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--code-hue-6)}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#1d56d3;color:var(--code-hue-2)}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}blockquote{font-style:italic;margin:1.5em 0;padding:0 0 0 2em}blockquote p:first-child:before{content:open-quote;font-family:serif;font-size:3em;font-weight:700;line-height:.1em;margin-right:.2em;vertical-align:-.4em}blockquote cite{color:#999990}blockquote cite:before{content:"- "}.pagination{display:flex;justify-content:space-between;list-style-position:outside;list-style-type:none;margin-top:20px;padding:0}.pagination__next-page,.pagination__prev-page{width:46%}.pagination__next-page{text-align:right}.footer-nav{text-align:center}@media only screen and (max-width:767px){body{font-size:15px;line-height:1.65}.container{width:auto}.post,.post-list{padding-top:10px}.post-list-item{display:block}.hljs{border-radius:0;margin-left:-20px;margin-right:-20px;padding:1.4em 20px}li .hljs{margin-left:0}.img-wrapper{margin-left:-20px;margin-right:-20px}}@font-face{font-display:swap;font-family:DM Mono;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYthSQBK6PYK3EXw.woff2) format("woff2");unicode-range:u+0100-02af,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-display:swap;font-family:DM Mono;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYthqQBK6PYK0.woff2) format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}@font-face{font-display:swap;font-family:Libre Baskerville;font-style:italic;font-weight:400;src:url(https://fonts.gstatic.com/s/librebaskerville/v14/kmKhZrc3Hgbbcjq75U4uslyuy4kn0qNcWx8QDO-WyrubOA.woff2) format("woff2");unicode-range:u+0100-02af,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-display:swap;font-family:Libre Baskerville;font-style:italic;font-weight:400;src:url(https://fonts.gstatic.com/s/librebaskerville/v14/kmKhZrc3Hgbbcjq75U4uslyuy4kn0qNcWxEQDO-Wyrs.woff2) format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}@font-face{font-display:swap;font-family:Libre Baskerville;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/librebaskerville/v14/kmKnZrc3Hgbbcjq75U4uslyuy4kn0qNXaxMaC82U-ro.woff2) format("woff2");unicode-range:u+0100-02af,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-display:swap;font-family:Libre Baskerville;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/librebaskerville/v14/kmKnZrc3Hgbbcjq75U4uslyuy4kn0qNZaxMaC82U.woff2) format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}@font-face{font-display:swap;font-family:Libre Franklin;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhycKkD9DPTedX18mETQw.woff) format("woff");unicode-range:u+0102-0103,u+0110-0111,u+0128-0129,u+0168-0169,u+01a0-01a1,u+01af-01b0,u+1ea0-1ef9,u+20ab}@font-face{font-display:swap;font-family:Libre Franklin;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhycKkDtDPTedX18mETQw.woff) format("woff");unicode-range:u+0100-02af,u+1e??,u+2020,u+20a0-20ab,u+20ad-20cf,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-display:swap;font-family:Libre Franklin;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhycKkANDPTedX18mE.woff) format("woff");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}</style><meta name="description" content="A personal website of Shuhei Kagawa. I write mostly on web technologies and life."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@shuheikagawa"><meta property="og:title" content="Shuhei Kagawa"><meta property="og:site_name" content="Shuhei Kagawa"><meta property="og:description" content="A personal website of Shuhei Kagawa. I write mostly on web technologies and life."></head><body><div class="container"><header class="header"><h1 class="header__title"><a href="/">Shuhei Kagawa</a></h1><nav class="header__nav"><ul class="menu"><li class="menu__item"><a href="/about/">About</a></li><li class="menu__item"><a href="/blog/archives/">All posts</a></li></ul></nav></header><div class="main"><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2021/02/23/new-look/">New look</a></h1><div class="meta"><span class="date">Feb 23, 2021</span> - <a href="/blog/tags/Blog">Blog</a></div></div><div class="content"><div><p>I updated this website’s design and replaced its static site generator with Eleventy. Here are some notes about the new look and implementation details.</p><h2>Design</h2><p>I had used only sans-serif fonts on this website. Serif fonts felt too fancy. But I like serif fonts on paper books. Many of them use serif fonts regardless of the fanciness of their contents. I wanted to do so for my website as well. But I didn’t know which font to use. There are so many fonts in this world, and Google Fonts has tons of serif fonts. So, I used <a href="https://www.typewolf.com/blog/google-fonts-combinations">a type pairing from Typewolf</a>—Libre Franklin for headings and Libre Baskerville for body text.</p><p>For code blocks, I chose DM Mono. DM Mono is a monospace font commissioned by Deep Mind—yes, they have their own fonts. Its “f” has a fancy touch. I use it for coding these days after years with Fira Code.</p><pre><code class="hljs sh"><span class="hljs-keyword">function</span> greet(name) {
  <span class="hljs-built_in">return</span> `Hello, <span class="hljs-variable">${name}</span>!`;
}
</code></pre><p>This website has mostly text and a few images. Web fonts are the only luxury that I put.</p><h2>Tech</h2><p>I replaced my home-grown static site generator using gulp with Eleventy. I liked gulp—it was a good use case of Node.js streams. But I wanted to try something new. I picked Eleventy simply because I heard its name many times and it runs on Node.js, which has a large ecosystem of web tooling.</p><p>Also, I removed Disqus and Google Analytics. This website is almost free of cookies now. The last one standing is Cloudflare’s bot detection cookie, which <a href="https://blog.cloudflare.com/deprecating-cfduid-cookie/">will be removed in May 2021</a>.</p><h2>Implementation details</h2><p>I took image optimization techniques from <a href="https://github.com/google/eleventy-high-performance-blog">google/elventy-high-performance-blog</a>—next-gen image formats (AVIF and WebP), multiple image sizes (<code>srcset</code>), blurred placeholders with SVG, immutable image URLs, aspect ratio by setting <code>width</code> and <code>height</code>, lazy loading and async decoding. The implementation is rather wild. It parses each full HTML with <code>jsdom</code>, finds <code>&lt;img&gt;</code> tags, read and optimize linked image files, and replaces the <code>&lt;img&gt;</code> tags with optimized <code>&lt;picture&gt;</code> elements.</p><p>I implemented a funny feature that inserts <code>&lt;wbr&gt;</code> into longCamelCase words—like <code>long&lt;wbr&gt;Camel&lt;wbr&gt;Case</code>—to break them on small screens. Some posts on this website have long titles such as “Check your server.keepAliveTimeout.” Those titles overflow on small screens. I could use a smaller font size for the titles, but I wanted to use a big font. <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/wbr"><code>&lt;wbr&gt;</code></a> HTML tag tells browsers that they can break lines there if necessary. I created <a href="https://github.com/shuhei/shuhei.github.com/blob/32d95d80b741cad9cb3f49a990bc598f52e427fd/lib/filters/wbr.js">a template filter to insert it</a>.</p><p><span class="img-wrapper"><picture><source type="image/avif" srcset="/cached/jhwwfjyH5O-700.avif 700w, /cached/jhwwfjyH5O-900.avif 900w, /cached/jhwwfjyH5O-1100.avif 1100w, /cached/jhwwfjyH5O-1400.avif 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/webp" srcset="/cached/jhwwfjyH5O-700.webp 700w, /cached/jhwwfjyH5O-900.webp 900w, /cached/jhwwfjyH5O-1100.webp 1100w, /cached/jhwwfjyH5O-1400.webp 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/png" srcset="/cached/jhwwfjyH5O-700.png 700w, /cached/jhwwfjyH5O-900.png 900w, /cached/jhwwfjyH5O-1100.png 1100w, /cached/jhwwfjyH5O-1400.png 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><img alt="Heading with  on the left and heading without it on the right" loading="lazy" decoding="async" style="background-size: cover; background-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 12 5'%3E %3Cfilter id='b' color-interpolation-filters='sRGB'%3E %3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E %3CfeComponentTransfer%3E %3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E %3C/feComponentTransfer%3E %3C/filter%3E %3Cimage filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAFCAYAAABxeg0vAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAt0lEQVQImT2Oy45EQABF/f/n0GsLoVpJkGCo7sRG0sVkjCYIFnI6KpPZ3UfuybWGYaDve/Z9Z9s2Lj9NE+M4Gn0ch+mubJ5nrCzL8DyPOI4JwxCtNed5kqYprusiZYgQgrquzciSUuI4Nrebg207RFFkqEpVBIFAiDu+7/9DrbIsCe6S/KuiyHOSJDFXhuEX3X7z0795/91e1xXrEq+XRrcdXdfRti3LstA0DUVR8Hw+qCqFUsqAPmT113g5prpuAAAAAElFTkSuQmCC'%3E %3C/image%3E %3C/svg%3E&quot;)" src="/cached/jhwwfjyH5O-700.png" width="1400" height="595"></picture></span></p><p>This website has <a href="/blog/2019/10/13/generating-twitter-card-images/">a feature to generate Open Graph images—or Twitter Card images—using <code>node-canvas</code> for blog posts without any images</a>. <s>I used Eleventy’s pagination with <code>size: 1</code> to implement it. It’s a cool way to generate another file for each post in a collection.</s> <em>Edit on Jan 2, 2022:</em> <a href="https://github.com/shuhei/shuhei.github.com/commit/42a61c030397eca9bf66f2faf4f1ad6c2c83dd8c">I replaced the pagination method with computed data that generates Open Graph images on demand in memory.</a></p><p>Another trick worth mentioning is <a href="https://github.com/shuhei/shuhei.github.com/blob/32d95d80b741cad9cb3f49a990bc598f52e427fd/source/_data/style.js">generating CSS as Eleventy’s global data</a>. Based on a regular CSS file, I wanted to inline Google Fonts CSS at build time (and preload woff2 files in it), apply <code>postcss</code> to it for transformation and optimization, and embed it into each HTML file. <a href="https://www.11ty.dev/docs/quicktips/inline-css/">The quick tip to inline minified CSS on Eleventy documentation</a> was not ideal for my use case. It didn’t feel like a valid use case of a <code>filter</code> to asynchronously fetch remote data, and it took a few extra seconds to run the same CSS optimization for every HTML file. <a href="https://www.11ty.dev/docs/data-global/#using-javascript-instead-of-json">Global data with JavaScript</a> runs only once regardless of the number of templates that use it, and we can do almost anything.</p><h2>Thoughts on Eleventy</h2><p>I had a good experience with Eleventy. It was easy to start with, and its hot reload worked out of the box. Its data cascade is powerful. But it took some time for me to understand the powerful data (and content) cascade. To implement features inherited from the previous version, I had to read most of the documentation in the end.</p><p>It’s not the best tool for someone who just wants to write blog posts out of the box. You’ll need to write some JavaScript. But if you want to have fun writing JavaScript to implement whatever feature you like, it’s a great option.</p></div></div></div><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2021/02/10/making-coffee/">Making coffee at home</a></h1><div class="meta"><span class="date">Feb 10, 2021</span> - <a href="/blog/tags/Coffee">Coffee</a></div></div><div class="content"><div><p>In this stay-home time, I started making coffee at home last November. I’m quite happy with this new hobby and wanted to share the fun here.</p><p><span class="img-wrapper"><picture><source type="image/avif" srcset="/cached/wD6JaKLp_x-700.avif 700w, /cached/wD6JaKLp_x-900.avif 900w, /cached/wD6JaKLp_x-1100.avif 1100w, /cached/wD6JaKLp_x-1400.avif 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/webp" srcset="/cached/wD6JaKLp_x-700.webp 700w, /cached/wD6JaKLp_x-900.webp 900w, /cached/wD6JaKLp_x-1100.webp 1100w, /cached/wD6JaKLp_x-1400.webp 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/jpeg" srcset="/cached/wD6JaKLp_x-700.jpeg 700w, /cached/wD6JaKLp_x-900.jpeg 900w, /cached/wD6JaKLp_x-1100.jpeg 1100w, /cached/wD6JaKLp_x-1400.jpeg 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><img alt="Latte art—rabbit?" loading="lazy" decoding="async" style="background-size: cover; background-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 9 7'%3E %3Cfilter id='b' color-interpolation-filters='sRGB'%3E %3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E %3CfeComponentTransfer%3E %3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E %3C/feComponentTransfer%3E %3C/filter%3E %3Cimage filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHCAIAAABV+fA3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVQImQHEADv/ALSUfbeUfKOCcGpla09LTlhPTaOLer+cgLWTewCri3WmhnJEOj1bQi2PbEN2XUJFQD+Ze2evjHMAqIdvdWFZVEQxup51v87Kx7WSe2VHWkpHo39nAKKBamRSS21eR7qwk67o/7S4qYxvRFlOS5x7ZQCXeGR9YVFGPjihn4qw4f2utKZZUUJgS0CggGkAhmZTglxHXEE2PDk3W2JhQk1VNykjc1M+kHFcAIFhTnxaRoFeSWlMOkMpHS8bElA0JG9QPIFjTrXVUefZhhwZAAAAAElFTkSuQmCC'%3E %3C/image%3E %3C/svg%3E&quot;)" src="/cached/wD6JaKLp_x-700.jpeg" width="1400" height="1050"></picture></span></p><h2>My coffee history</h2><p>I was not a coffee person. My regular drinks at Starbucks in Tokyo were chai latte in the winter and matcha frappuccino in the summer. I had cappuccinos (or <em>cappuccini</em>!) at non-Starbucks cafes, but I never made coffee at home.</p><p>I started drinking more coffee in Berlin. Big espresso machines were introduced in the office a few years ago. My colleagues were excited. I bought Nespresso pods and joined the coffee time.</p><p>Many coffee shops in Berlin serve specialty coffee. I met something stronger than a cappuccino. Flat white became my regular drink.</p><h2>Espresso machine</h2><p>The last November, my wife and I bought <a href="https://www.delonghi.com/en-int/products/coffee/coffee-makers/pump-espresso/dedica-style-ec-685bk-0132106140">De’Longhi Dedica EC685</a> for 153.90 €. It’s an entry-level espresso machine with good reviews. We wanted to start small because we were not sure if we wouldn’t get bored.</p><p>It came with almost everything necessary for making a cup of cappuccino—a milk jug, baskets, and a tamper with a scoop on the other end. Well, you still need to buy coffee beans and milk though.</p><p>I’m trying to make a flat white. Roughly speaking, it’s a double espresso with steamed milk on top.</p><p>Making espresso is easy—at least to satisfy my less educated taste. Put ground coffee into the basket in the handle, set the handle into the espresso machine, and press a button. That’s it.</p><p>Steamed milk is harder. Decica’s milk foam is coarser than more professional ones’. There are <a href="http://toolsandtoys.net/guides/making-the-most-of-the-delonghi-dedica-budget-espresso-machine/">a few ways to improve it</a>, but I haven’t tried any of them yet. I’ll try the cable tie trick soon.</p><p>Many online reviews pointed out that Dedica EC685 suddenly stopped working after a few months and required a factory reset to recover. It happened to ours once. But it was not an issue because we already knew the trick.</p><h2>Coffee beans</h2><p>I live in a neighborhood famous for gentrification. In walking distance, there are a few coffee roasters and countless coffee shops that sell specialty coffee beans. The Barn, Five Elephant, Friedl, Firstcrack, MokannTi, Coffee Stars, oh my.</p><p>I still don’t know what kind of beans I like. I’m exploring different beans one by one and looking for my favorite. My current focus is making coffee properly. Otherwise, my poor coffee-making skills diminish the difference in coffee beans.</p><h2>Grinder</h2><p>There are much more options if you can grind whole beans by yourself. After a month with the espresso machine, we weren’t bored yet. So we decided to invest in a grinder.</p><p>Not all grinders can grind coffee finely enough for espresso. Also, people on the internet say grinders are more important than espresso machines. But automatic grinders for espresso easily cost a few hundred euros at least. A bit too much for a beginner.</p><p>We opted for a good-quality hand grinder, <a href="https://www.coffeecircle.com/en/p/porlex-mini-tall-hand-kaffeemuehle?number=Z034-005-002">Porlex</a>, at 64.90 €. It’s made in Kagoshima, a southwest part of Japan. Its ceramic blades are easy to clean. It requires some force to rotate the handle, but it’s been working well so far.</p><p>An alternative was <a href="https://comandantegrinder.com/">Comandante</a> from Germany. It had a good reputation on the internet, but 228 € was out of our budget.</p><p>Grinding coffee is meditating. It brings analog vibes to my mostly digitalized life.</p><h2>Latte art</h2><p>To me, latte art is one of coffee’s biggest wonders. Baristas draw beautiful patterns only by pouring milk into coffee! It looks easy when skilled baristas do it, but it’s not.</p><p>If a picture is worth a thousand words, a video is worth a million words—especially for crafts like cooking and latte art. <a href="https://www.youtube.com/watch?v=jdRS_5OJzZY"><em>How to Pour Latte Art</em> by Prima Coffee Equipment</a> is the best video I have found so far. It was eye-opening to see how the barista pushed a circle into an arc, and he raised the milk jug before making a stroke at the end.</p><p>Also, coffee cups make a difference here. We started with small cylinder-shaped mugs that we had at home, but it didn’t go well. After we got bowl-shaped coffee cups, the bigger surface made it easier to pour milk on the surface.</p><p><span class="img-wrapper"><picture><source type="image/avif" srcset="/cached/lWp98unnCc-700.avif 700w, /cached/lWp98unnCc-900.avif 900w, /cached/lWp98unnCc-1100.avif 1100w, /cached/lWp98unnCc-1400.avif 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/webp" srcset="/cached/lWp98unnCc-700.webp 700w, /cached/lWp98unnCc-900.webp 900w, /cached/lWp98unnCc-1100.webp 1100w, /cached/lWp98unnCc-1400.webp 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/jpeg" srcset="/cached/lWp98unnCc-700.jpeg 700w, /cached/lWp98unnCc-900.jpeg 900w, /cached/lWp98unnCc-1100.jpeg 1100w, /cached/lWp98unnCc-1400.jpeg 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><img alt="Latte art—tulip?" loading="lazy" decoding="async" style="background-size: cover; background-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 9 7'%3E %3Cfilter id='b' color-interpolation-filters='sRGB'%3E %3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E %3CfeComponentTransfer%3E %3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E %3C/feComponentTransfer%3E %3C/filter%3E %3Cimage filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHCAIAAABV+fA3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVQImQHEADv/AIVkV7+jj8qulo6Bdm5iWIdyYbWRc72YecGcfACogmq9oIhlXVw0KyhJNysyJBtlVErBnHy4lXcArIZsj3ttNCwpmHtdtLm1nnpSTkdAmH9rs5BzAKyHbHFgV1BHPr6/s7LQ3sa8oW50c3hjVK2JbQCfe2SNdGM5OjqdvMu54vuour43ODp9YEqlgmgAlXNco4NtYUxBLS80RVhjKzE4OCMahGJFk3BVAIppU5J2X5RxWWU/LTsiFDkiFVU4KHdXPoFfQn7WVAfC51OGAAAAAElFTkSuQmCC'%3E %3C/image%3E %3C/svg%3E&quot;)" src="/cached/lWp98unnCc-700.jpeg" width="1400" height="1050"></picture></span></p><p>Well, there’s still a long way to go!</p></div></div></div><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2021/01/17/home-office-ergonomics/">Things I wish I knew about home office ergonomics</a></h1><div class="meta"><span class="date">Jan 17, 2021</span></div></div><div class="content"><div><p><span class="img-wrapper"><picture><source type="image/avif" srcset="/cached/YElckbOzIg-700.avif 700w, /cached/YElckbOzIg-900.avif 900w, /cached/YElckbOzIg-1100.avif 1100w, /cached/YElckbOzIg-1400.avif 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/webp" srcset="/cached/YElckbOzIg-700.webp 700w, /cached/YElckbOzIg-900.webp 900w, /cached/YElckbOzIg-1100.webp 1100w, /cached/YElckbOzIg-1400.webp 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/jpeg" srcset="/cached/YElckbOzIg-700.jpeg 700w, /cached/YElckbOzIg-900.jpeg 900w, /cached/YElckbOzIg-1100.jpeg 1100w, /cached/YElckbOzIg-1400.jpeg 1400w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><img alt="My current setup" loading="lazy" decoding="async" style="background-size: cover; background-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 9 7'%3E %3Cfilter id='b' color-interpolation-filters='sRGB'%3E %3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E %3CfeComponentTransfer%3E %3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E %3C/feComponentTransfer%3E %3C/filter%3E %3Cimage filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHCAIAAABV+fA3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzUlEQVQImWNYuP741IXrwoMi/IxtQiMSY+OT8wuLwsKjg4P9GLYcuds/Y5mlpVOIp0uwu4e2oZWahpqlubmdhTFDXde88IhoN2vrDG+3fH/35BA/JycHE0N9M0NDhvDYXC0lueSosNjwsPDAoIyY6NTwYA87CwtTU4bKwpKsqJCypMhoL5e0ML+2spy63OQ4P1cvWwuGhIQ4H29/A0MreQU1bV1TQyOLwqzUpJjQvLRYBidHl9CAwK629rryktKCnKSY6KiQoOhQ/96WcgBzWEEVELt46wAAAABJRU5ErkJggg=='%3E %3C/image%3E %3C/svg%3E&quot;)" src="/cached/YElckbOzIg-700.jpeg" width="1400" height="1050"></picture></span></p><p>Here are some tips that I learned through my own mistakes. I’m not an expert, and I know I’m late to the train. But I hope you find some of the tips useful!</p><h2>Start from your body</h2><p>Find furniture and equipment that fit your body. Not the other way around. I made a mistake on it when I bought my standing desk.</p><p>To have a good posture, check the following requirements:</p><ul><li>Chair: Your feet should rest flat on the floor when you sit deep.</li><li>Desk: Your elbows should be at 90 degrees or more when you type on your keyboard.</li><li>Monitor: Your monitor’s top edge should be around your eye-level.</li></ul><p>These three constraints define the ideal sizes and positions of your chair, desktop, and monitor.</p><p>Besides that, you can find tons of resources on the internet if you search for <em>office ergonomics</em>. I found <a href="http://ergo.human.cornell.edu/ergoguide.html">the CUErgo website</a> particularly informative.</p><h2>Chair</h2><p>Your feet should rest flat on the floor when you sit deep. It’s not hard to achieve because most office chairs are height-adjustable. But pay attention to the range of the seat level before you buy one.</p><h3>Good chair is worth your money</h3><p>When I started working from home, I ordered the cheapest chair in stock at the time to satisfy my minimum needs. The chair looked OK, but its seat was too stiff. I nearly got hemorrhoids after a few weeks. I had to buy a donut-shaped seat cushion to get around the issue. But it didn’t support my weight well and caused back pain.</p><p>Eventually, I decided to go with Aeron Chair Remastered, and I love it. It’s not cheap, but it’s much better than getting health problems.</p><h2>Desk</h2><p>Your elbows should be at 90 degrees or more when you type on your keyboard. This arrangement requires careful planning. Few desks are height adjustable. Even adjustable desks have their minimum/maximum heights. If you can’t get a desk of your perfect height, you can a keyboard tray to lower your keyboard or footrest to elevate yourself.</p><h3>Check the minimum height before buying a standing desk</h3><p>I bought a standing desk, Flexispot E1, because I saw Flexispot on many blog posts in Japan and E1 was the most affordable one. It turned out that its minimum height 71 cm was too high for me. It took me a while to realize it because it’s a <em>standing</em> desk. More expensive models of Flexispot have lower minimum heights. For example, E5 can go down to 62 cm.</p><p>To work around the issue, I ordered a keyboard tray from Flexispot. The keyboard tray lowered the position of my keyboard and created more space on my desktop. I was happy that I was able to open a book between my keyboard and monitor. But the keyboard tray came with its problems. Typing hard on it shook the desk itself. It revealed the desk’s instability. On top of that, the tray was unstable by itself because its screws were quite loose.</p><p>A good side effect was that I stopped resting my palms on wrist rests when I type. It was advice from the CUErgo website and an attempt to reduce the wobble of my desk and monitor. Now my monitor doesn’t wobble and I can type faster.</p><h3>Stability matters</h3><p>If you are getting a standing desk, get a stable one!</p><p>Stability is especially important if you use a big monitor and a monitor arm. I tried a 32-inch monitor once with a monitor arm and had to return it because it wobbled too much on the standing desk.</p><p><a href="https://www.btod.com/blog/wobblemeter-results/">btod.com has stability reviews of standing desks.</a></p><p>If I buy a standing desk again, I would try IKEA’s Idasen.</p><h2>Monitor</h2><p>I’m using a 27-inch QHD monitor now after trying 24-inch and 32-inch. 32-inch was too big for me.</p><h3>Monitor height</h3><p>Your monitor’s top edge should be around your eye-level. Usually, the built-in stands of regular monitors don’t go high enough. A stack of books, a monitor stand, or a monitor arm elevate your monitor. If you use a keyboard tray, you need less monitor elevation because you can keep your desktop higher.</p><p>Before buying anything, check whether your setup can satisfy your monitor’s perfect height. If you are getting a monitor arm, check the relative position of your monitor’s VESA mount to its top. Not all monitors have their VESA mounts at their center.</p><p>I’m using Flo from Colebrook Bosson Saunders. I’m satisfied with the beautiful monitor arm so far. Its maximum height is just enough for my eye-level. You may need a more robust one if you need more height or a bigger monitor.</p><h2>Inside your screen</h2><p>You don’t need to fill your screen with windows. My neck hurts if I stare at a corner of my screen for a long time. But I often found myself in this neck-bending situation. It helps if you keep your working area at the top center of your screen.</p><p>I stopped using applications in full screen or multi-window layout. I put my browser window in the half-width of my screen and put it at the center. Instead of showing multiple windows, I keep only one window at a time and switch windows with a keyboard shortcut. This single-window policy allows me to always look in front of me and focus on one thing at a time.</p><p><span class="img-wrapper"><picture><source type="image/avif" srcset="/cached/M26QKAuOCP-700.avif 700w, /cached/M26QKAuOCP-900.avif 900w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/webp" srcset="/cached/M26QKAuOCP-700.webp 700w, /cached/M26QKAuOCP-900.webp 900w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/png" srcset="/cached/M26QKAuOCP-700.png 700w, /cached/M26QKAuOCP-900.png 900w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><img alt="One window at a time" loading="lazy" decoding="async" style="background-size: cover; background-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 10 6'%3E %3Cfilter id='b' color-interpolation-filters='sRGB'%3E %3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E %3CfeComponentTransfer%3E %3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E %3C/feComponentTransfer%3E %3C/filter%3E %3Cimage filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApUlEQVQImUWOW3LDIAwAOVBjgxF+IccB1x2TtMn9T7Mdk870Y7+0Wsm4IWM7xdmRcbjiuwnb9Hxcetpwo85Dwog+cLIxdonP9Ydl2AnNgmsXRO9IfGNEC1Yyo1t57C/u+wvtN9qL4uOBn9+Yc+sUJ3+jbE+SHsw+YRtFYkHm8i86yQzdyrE9+UrfxJBrsYqVA+NjqT/6Zma9JlLKTEGx5+m/2ln8BSb5ZVWMD+09AAAAAElFTkSuQmCC'%3E %3C/image%3E %3C/svg%3E&quot;)" src="/cached/M26QKAuOCP-700.png" width="900" height="506"></picture></span></p><h3>Vim</h3><p><a href="https://github.com/junegunn/goyo.vim">Goyo</a> is a Vim plugin that creates a focus mode. The plugin hides non-essential elements and places the text at the center. The focus mode helps you not only focus, but also keep you face the center of the screen.</p><p>If Goyo provides horizontal adjustment, <code>z&lt;CR&gt;</code> provides vertical adjustment. The normal-mode command brings the current line to the top of your screen. It helps you keep your neck straight.</p><p><span class="img-wrapper"><picture><source type="image/avif" srcset="/cached/ozMm6Flybf-700.avif 700w, /cached/ozMm6Flybf-900.avif 900w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/webp" srcset="/cached/ozMm6Flybf-700.webp 700w, /cached/ozMm6Flybf-900.webp 900w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><source type="image/png" srcset="/cached/ozMm6Flybf-700.png 700w, /cached/ozMm6Flybf-900.png 900w" sizes="(max-width: 767px) calc(100vw - 40px), 700px"><img alt="Distraction-free Vim" loading="lazy" decoding="async" style="background-size: cover; background-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 10 6'%3E %3Cfilter id='b' color-interpolation-filters='sRGB'%3E %3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E %3CfeComponentTransfer%3E %3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E %3C/feComponentTransfer%3E %3C/filter%3E %3Cimage filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVQImW2MsQ7CMAxE82dnX9KmLe3/svABTAiECAywwQ+wUSqjlIAYGE7n8z3bAVgJ5AzgoKIphJBIJhFJALKfAGycql5JmqpaCJX1/WAxRvPeW96X7uFE5FLCk+TkvZ+yq+qs0t3zxxkkOX4Acgay8vEbBOSmovaV/swli8jo2kWz7Ib22HT1Nnb17o/2dVOtX7poZlwimU8IAAAAAElFTkSuQmCC'%3E %3C/image%3E %3C/svg%3E&quot;)" src="/cached/ozMm6Flybf-700.png" width="900" height="513"></picture></span></p><h3>Terminal</h3><p>Can we create the Goyo-like focus mode outside of Vim? <a href="https://superuser.com/questions/1261810/creating-a-focus-mode-for-tmux-one-centered-pane-flanked-by-two-blank-panes">This cool trick on SuperUser</a> allows you to create a focus mode on tmux. You can also move up your eyes to the top of your screen by <code>clear</code> on your terminal.</p><h2>Move!</h2><p>Even with all of the above, my body doesn’t feel well if I stay in front of my computer all day. I go out for a walk every day, and it makes a difference. Ergonomic setup doesn’t mean you can work all day.</p></div></div></div><ul class="pagination"><li class="pagination__prev-page"><a href="/">Newer posts</a></li><li class="pagination__next-page"><a href="/blog/pages/3/">Older posts</a></li></ul><nav class="footer-nav"><a href="/blog/archives/">All posts</a></nav></div><footer class="footer">© Shuhei Kagawa</footer></div></body></html>