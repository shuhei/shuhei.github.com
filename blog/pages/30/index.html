<!doctype html>
  <html lang="en">
    <head>
      <meta charset="utf-8">
			<link rel="preload" href="https://fonts.googleapis.com/css2?display=swap&family=Libre+Baskerville:ital@0;1&family=Libre+Franklin:wght@700&family=DM+Mono" as="style">
<link rel="preload" href="https://fonts.gstatic.com/s/librebaskerville/v9/kmKnZrc3Hgbbcjq75U4uslyuy4kn0qNZaxMaC82U.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="https://fonts.gstatic.com/s/librefranklin/v6/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhycKkANDPTedX18mE.woff" as="font" crossorigin="anonymous">
<link rel="preload" href="https://fonts.gstatic.com/s/dmmono/v3/aFTU7PB1QTsUX8KYthqQBK6PYK0.woff2" as="font" crossorigin="anonymous">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Page 30 - Shuhei Kagawa</title>
      <link rel="icons" sizes="16x16 32x32 48x48" href="/favicon.ico">
      <link rel="alternate" type="application/rss+xml" title="RSS Feed for shuheikagawa.com" href="/blog/feed/rss.xml">
      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-309586-8', 'shuheikagawa.com');
  ga('send', 'pageview');
</script>
      <style>:root{--bg-color:#fff;--text-color:#000;--highlight-color:#095ae8;--code-text-color:var(--code-mono-1);--syntax-hue:230;--syntax-saturation:1%;--syntax-brightness:100%;--code-mono-1:hsl(var(--syntax-hue), 8%, 24%);--code-mono-2:hsl(var(--syntax-hue), 6%, 44%);--code-mono-3:hsl(var(--syntax-hue), 4%, 64%);--code-hue-1:hsl(198, 99%, 37%);--code-hue-2:hsl(221, 76%, 47%);--code-hue-3:hsl(301, 63%, 40%);--code-hue-4:hsl(119, 72%, 31%);--code-hue-5:hsl(5, 68%, 48%);--code-hue-5-2:hsl(344, 84%, 43%);--code-hue-6:hsl(41, 99%, 30%);--code-hue-6-2:hsl(41, 99%, 30%);--body-font-family:"Libre Baskerville",serif;--heading-font-family:"Libre Franklin",sans-serif;--code-font-family:"DM Mono",monospace}body{font-family:"Libre Baskerville",serif;font-family:var(--body-font-family);background:#fff;background:var(--bg-color);color:#000;color:var(--text-color);padding:0;margin:0;font-size:17px;line-height:1.75}.container{width:700px;padding:0 20px;margin:0 auto}a{color:#095ae8;color:var(--highlight-color);transition:color .5s ease}a:hover{opacity:.7}.header{padding:1.5em 0 1em;display:flex}.header__title{margin:0 10px 0 0;flex-grow:1;font-size:1.2em;font-weight:400}.header__title a{color:#000;color:var(--text-color);text-decoration:none}.header__nav{flex-grow:0}.menu{list-style-position:outside;list-style-type:none;padding:0;margin:0;text-align:right}.menu__item{display:inline-block;padding:.3em 0 0 .7em}.menu__item a{color:#000;color:var(--text-color);text-decoration:none}.footer{padding:50px 0 30px;text-align:center}.title{font-family:"Libre Franklin",sans-serif;font-family:var(--heading-font-family);font-size:3em;margin:0 0 .4em;line-height:1.1}.title a{color:#000;color:var(--text-color);text-decoration:none}.post,.post-list{padding:30px 0 20px}.post:not(:first-child):before{content:"* * *";font-family:"Libre Franklin",sans-serif;font-family:var(--heading-font-family);font-weight:700;font-size:4em;display:block;margin:.2em auto .6em;text-align:center;line-height:1}.post .meta{font-size:small;margin:10px 0 20px}.post-list .title{margin-bottom:10px}.post-list-item{line-height:1.6em;padding:10px 0;display:flex}.post-list-item__date{font-size:.8em;width:8em;flex-shrink:0}.post-list-item__title{font-size:1.3em;margin:0;font-family:"Libre Franklin",sans-serif;font-family:var(--heading-font-family);font-weight:700}.post-list-item__title a{text-decoration:none;color:#000;color:var(--text-color)}.content h2,.content h3,.content h4,.content h5,.content h6{font-family:"Libre Franklin",sans-serif;font-family:var(--heading-font-family);line-height:1.1;margin:1em 0 0 0}.content h2{font-size:2em}.content h3{font-size:1.5em}.content img{max-width:100%}.responsive-image-wrapper{display:block}.responsive-image-outer{display:block;margin:0 auto}.responsive-image-inner{display:block;position:relative}.responsive-image{position:absolute;top:0;left:0}.social-buttons{margin:2em 0 0}.comments{margin-bottom:3em}ol,ul{list-style-position:outside;padding-left:1.4em}.table-wrapper{overflow-x:auto}table{border-collapse:collapse;margin:2em 0}th{font-weight:400;text-align:left}tbody{border-top:1px solid #333;padding:.5em 0}td,th{padding-right:1em}code{color:#383942;color:var(--code-text-color);font-size:.9em;font-family:"DM Mono",monospace;font-family:var(--code-font-family)}.code__filename{display:inline-block;margin-bottom:13px;padding:5px 10px;font-size:.85em;background-color:#666}.hljs{display:block;line-height:1.5em;padding:15px 20px 0;overflow-x:auto;-webkit-overflow-scrolling:touch;color:#383942;color:var(--code-text-color)}.hljs-comment,.hljs-quote{color:#696b76;color:var(--code-mono-2);font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a625a4;color:var(--code-hue-3)}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#cd3527;color:var(--code-hue-5)}.hljs-literal{color:#0083bb;color:var(--code-hue-1)}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#188716;color:var(--code-hue-4)}.hljs-built_in,.hljs-class .hljs-title{color:#986800;color:var(--code-hue-6-2)}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986800;color:var(--code-hue-6)}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#1c56d2;color:var(--code-hue-2)}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}blockquote{border-left:5px solid #000;border-left:5px solid var(--text-color);font-style:italic;padding:.1em 1.2em;margin-left:0;quotes:"\201C""\201D""\2018""\2019"}blockquote p:first-child:before{content:open-quote;font-family:serif;font-size:3em;font-weight:700;line-height:.1em;margin-right:.2em;vertical-align:-.4em}blockquote cite{color:#999990}blockquote cite:before{content:"- "}.pagination{list-style-position:outside;list-style-type:none;padding:0;margin-top:20px;display:flex;justify-content:space-between}.pagination li{min-height:1em;width:33%}.pagination a{text-decoration:none}.pagination__prev-page a:before{content:"< "}.pagination__next-page{text-align:right}.pagination__next-page a:after{content:" >"}.pagination__archives{flex-grow:1;text-align:center}@media only screen and (max-width:767px){body{font-size:15px}.container{width:auto}.post,.post-list{padding-top:10px}.post-list-item{display:block}.hljs{margin-left:-20px;margin-right:-20px;padding:1.4em 20px;border-radius:0}li .hljs{margin-left:0;border-radius:.4em}.responsive-image-wrapper{margin-left:-20px;margin-right:-20px}}</style>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?display=swap&family=Libre+Baskerville:ital@0;1&family=Libre+Franklin:wght@700&family=DM+Mono">
      <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@shuheikagawa">
<meta property="og:title" content="Page 30 - Shuhei Kagawa">
<meta property="og:site_name" content="Shuhei Kagawa">
    </head>
    <body>
      <div class="container">
        <header class="header">
          <h1 class="header__title">
            <a href="/">Shuhei Kagawa</a>
          </h1>
          <nav class="header__nav">
            <ul class="menu">
              <li class="menu__item">
                <a href="/about/">About</a>
              </li>
              <li class="menu__item">
                <a href="/blog/archives/">All posts</a>
              </li>
            </ul>
          </nav>
        </header>
        <div class="main">
          
    
    <div class="post">
      <div class="post-header">
        <h1 class="title">
          <a href=/blog/2009/10/11/grasse/>草</a>
        </h1>
        <div class="meta">
          <span class="date">Oct 11, 2009</span>
          
        </div>
      </div>
      <div class="content">
        <div>
          <p><a href="https://www.flickr.com/photos/branchiopoda/3998672572/" title="Grasses.pde by shuhei kagawa, on Flickr"><span class="responsive-image-wrapper"><span class="responsive-image-outer" style="max-width: 495px;"><span class="responsive-image-inner" style="padding-top: 28.28282828282828%;"><img class="responsive-image" src="https://farm3.static.flickr.com/2619/3998672572_f846cfe28f_o.png" alt="Grasses.pde"></span></span></span></a></p>
<p>パソコンの中にあったのを、絵作りのとこだけアップ。そういえば、何か作っていたのでした。
備忘のために。</p>
<pre><code class="hljs processing"><span class="hljs-built_in">int</span> NUM;
<span class="hljs-built_in">float</span>[] grasses;

<span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>()
{
  <span class="hljs-built_in">size</span>(<span class="hljs-number">495</span>, <span class="hljs-number">140</span>);
  <span class="hljs-built_in">smooth</span>();
  <span class="hljs-built_in">background</span>(<span class="hljs-number">255</span>);

  NUM = <span class="hljs-built_in">width</span>;

  grasses = <span class="hljs-keyword">new</span> <span class="hljs-built_in">float</span>[NUM];
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; NUM; i++)
  {
    grasses[i] = <span class="hljs-built_in">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) * <span class="hljs-built_in">random</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>);
  }
  drawGrasses();
  <span class="hljs-built_in">save</span>(<span class="hljs-string">"grasses.png"</span>);
}

<span class="hljs-keyword">void</span> drawGrasses()
{
  <span class="hljs-built_in">noFill</span>();
  <span class="hljs-built_in">colorMode</span>(HSB);
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; NUM; i++)
  {
    <span class="hljs-built_in">stroke</span>(<span class="hljs-built_in">random</span>(<span class="hljs-number">50</span>, <span class="hljs-number">100</span>), <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);
    <span class="hljs-built_in">strokeWeight</span>(<span class="hljs-built_in">width</span> * <span class="hljs-number">0.0015</span> * <span class="hljs-built_in">random</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>));

    <span class="hljs-built_in">int</span> x = i * <span class="hljs-built_in">width</span> / (NUM - <span class="hljs-number">1</span>);
    <span class="hljs-built_in">line</span>(x,
         <span class="hljs-built_in">height</span>,
         x + <span class="hljs-built_in">width</span> * <span class="hljs-built_in">random</span>(<span class="hljs-number">-0.1</span>, <span class="hljs-number">0.1</span>) * <span class="hljs-built_in">random</span>(<span class="hljs-number">-0.15</span>, <span class="hljs-number">0.15</span>),
         <span class="hljs-built_in">height</span> * (<span class="hljs-number">1.0</span> - grasses[i] * <span class="hljs-number">0.3</span> - <span class="hljs-number">0.2</span>));
  }
}</code></pre>
        </div>
      </div>
    </div>
  

    <div class="post">
      <div class="post-header">
        <h1 class="title">
          <a href=/blog/2009/10/10/python-challenge-from-0-to-5/>Python Challenge Lv. 0 - 5</a>
        </h1>
        <div class="meta">
          <span class="date">Oct 10, 2009</span>
          
        </div>
      </div>
      <div class="content">
        <div>
          <p>ふと mixi の Python コミュニティを覗いたら <a href="http://www.pythonchallenge.com">Python Challenge</a> なるものを発見。
プログラムを書いて解いてゆくクイズです。面白そうなのでやってみました。
最近マイブームな Ruby で。</p>
<p>以下、ネタバレ注意です。</p>
<h2 id="level-0">Level 0</h2>
<pre><code class="hljs rb"><span class="hljs-number">2</span> ** <span class="hljs-number">38</span></code></pre><h2 id="level-1">Level 1</h2>
<pre><code class="hljs rb">cipher = <span class="hljs-string">"g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj."</span>
abc = (<span class="hljs-string">"a"</span>[<span class="hljs-number">0</span>] .. <span class="hljs-string">"z"</span>[<span class="hljs-number">0</span>]).to_a
cde = (<span class="hljs-string">"c"</span>[<span class="hljs-number">0</span>] .. <span class="hljs-string">"z"</span>[<span class="hljs-number">0</span>]).to_a + [<span class="hljs-string">"a"</span>[<span class="hljs-number">0</span>], <span class="hljs-string">"b"</span>[<span class="hljs-number">0</span>]]
dict = Hash[*abc.zip(cde).flatten]
cipher.bytes <span class="hljs-keyword">do</span> <span class="hljs-params">|ch|</span>
  ch = dict[ch] <span class="hljs-keyword">if</span> dict.has_key?(ch)
  printf(<span class="hljs-string">"%c"</span>, ch)
<span class="hljs-keyword">end</span></code></pre><h2 id="level-2">Level 2</h2>
<p>ターミナルにコピペしたらおかしくなったので、一旦 mess_2.txt に保存。</p>
<pre><code class="hljs rb">File.open(<span class="hljs-string">"mess_2.txt"</span>) <span class="hljs-keyword">do</span> <span class="hljs-params">|f|</span>
  <span class="hljs-keyword">while</span> ch = f.getc
    printf(<span class="hljs-string">"%c"</span>, ch) <span class="hljs-keyword">if</span> (<span class="hljs-string">"a"</span>[<span class="hljs-number">0</span>] .. <span class="hljs-string">"z"</span>[<span class="hljs-number">0</span>]).<span class="hljs-keyword">include</span>?(ch)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span></code></pre><p>ファイルの中身を 1 バイトずつ読み込んで、アルファベットだけ抜き出します。</p>
<h2 id="level-3">Level 3</h2>
<pre><code class="hljs rb">pattern = <span class="hljs-regexp">/[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]/</span>
File.open(<span class="hljs-string">"mess_3.txt"</span>) <span class="hljs-keyword">do</span> <span class="hljs-params">|f|</span>
  p f.read.scan(pattern).to_s
<span class="hljs-keyword">end</span></code></pre><p>Ruby でグローバルマッチしたい時って <code>String#scan</code> 使うしかないの？</p>
<h2 id="level-4">Level 4</h2>
<pre><code class="hljs rb">num = <span class="hljs-string">"12345"</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">"net/http"</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_nothing</span><span class="hljs-params">(num)</span></span>
  <span class="hljs-keyword">return</span> Net::HTTP.get URI.parse(<span class="hljs-string">"http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing="</span> + num)
<span class="hljs-keyword">end</span>
<span class="hljs-number">400</span>.times <span class="hljs-keyword">do</span>
  content = get_nothing(num)
  m = <span class="hljs-regexp">/and the next nothing is ([0-9]+)/</span>.match(content)
  p num
  p content
  <span class="hljs-keyword">if</span> m != <span class="hljs-literal">nil</span> <span class="hljs-keyword">then</span>
    num = m[<span class="hljs-number">1</span>]
  <span class="hljs-keyword">else</span>
    exit
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span></code></pre><p>途中でひっかけがありますが・・・。そこは手作業で。</p>
<h2 id="level-5">Level 5</h2>
<p>意味がわからずカンニング。
<a href="http://unixwars.com/2007/09/11/python-challenge-level-5-peak-hell/?wscr=1280x800">Python Challenge level 5: “peak hell” | UnixWars</a>
Python の Pickle モジュールを使う問題だとか。知らんがな。</p>
<pre><code class="hljs py"><span class="hljs-keyword">import</span> urllib, pickle
uri = <span class="hljs-string">"http://www.pythonchallenge.com/pc/def/banner.p"</span>
obj = pickle.load(urllib.urlopen(uri))
<span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> obj:
  l = <span class="hljs-string">""</span>
  <span class="hljs-keyword">for</span> pair <span class="hljs-keyword">in</span> line:
    l += pair[<span class="hljs-number">0</span>] * pair[<span class="hljs-number">1</span>]
    <span class="hljs-keyword">print</span> l</code></pre><h2 id="今日はここまで">今日はここまで</h2>
<p>続きはまた今度。</p>

        </div>
      </div>
    </div>
  

    <div class="post">
      <div class="post-header">
        <h1 class="title">
          <a href=/blog/2009/09/30/exec-windows-command-with-ruby/>Ruby で Windows のコマンド実行</a>
        </h1>
        <div class="meta">
          <span class="date">Sep 30, 2009</span>
          - <span class="category">Ruby</span>
        </div>
      </div>
      <div class="content">
        <div>
          <p>バッチファイルだけでは難しい処理をしたい時などに。そういう時は PowerShell を使うといいのかもしれませんが。</p>
<pre><code class="hljs rb">ret = system <span class="hljs-string">"cmd.exe /c dir"</span></code></pre>
        </div>
      </div>
    </div>
  
    <ul class="pagination">
      <li class="pagination__prev-page">
        <a href=/blog/pages/29/>Newer Posts</a>
      </li>
      <li class="pagination__archives">
        <a href="/blog/archives/">Archives</a>
      </li>
      <li class="pagination__next-page">
        <a href=/blog/pages/31/>Older Posts</a>
      </li>
    </ul>
  
        </div>
        <footer class="footer">
          © Shuhei Kagawa
        </footer>
      </div>
    </body>
  </html>