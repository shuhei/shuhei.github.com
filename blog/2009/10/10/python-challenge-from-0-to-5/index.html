<!doctype html>
    <html >
      <head>
        <meta charset="utf-8">
        <link rel="preload" href="//fonts.googleapis.com/css?family=Asap:400,700">
        <link rel="preload" href="/js/index.js">
        <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
        <meta name="viewport" content="initial-scale=1">
        <title data-react-helmet="true">Python Challenge Lv. 0 - 5 - Shuhei Kagawa</title>
        <link rel="icons" sizes="16x16 32x32 48x48" href="/favicon.ico">
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for shuheikagawa.com" href="/blog/feed/rss.xml">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Asap:400,700">
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-309586-8', 'shuheikagawa.com');
          ga('send', 'pageview');
        </script>
        <style>.hljs{display:block;overflow-x:auto;padding:.5em;background:#23241f}.hljs,.hljs-subst,.hljs-tag{color:#f8f8f2}.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ae81ff}.hljs-code,.hljs-section,.hljs-selector-class,.hljs-title{color:#a6e22e}.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}.hljs-attr,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#f92672}.hljs-attribute,.hljs-symbol{color:#66d9ef}.hljs-class .hljs-title,.hljs-params{color:#f8f8f2}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-string,.hljs-template-variable,.hljs-type,.hljs-variable{color:#e6db74}.hljs-comment,.hljs-deletion,.hljs-meta{color:#75715e}body{background-color:#f8f8f2;font-family:Asap,sans-serif;padding:0;margin:0}a{color:#000;transition:color .3s ease}a:hover{color:#999}blockquote{border-left:10px solid #eeeee0;font-style:italic;padding:.1em 1.2em;margin-left:0;quotes:"\201C""\201D""\2018""\2019"}blockquote p:first-child:before{color:#ccccc0;content:open-quote;font-family:serif;font-size:3em;font-weight:700;line-height:.1em;margin-right:.2em;vertical-align:-.4em}blockquote cite{color:#999990}blockquote cite:before{content:"- "}.header{padding:25px 0 10px;text-align:center}.header__title{margin:0 0 15px}.header__title a{text-decoration:none}.menu{list-style-position:outside;list-style-type:none;padding:10px 0;margin:0}.menu__item{display:inline-block;padding:0 20px}.menu__item a{font-weight:700;text-decoration:none}.footer{padding:30px 0;text-align:center}.title a{text-decoration:none}.post,.post-list{background:#fff;border-top:8px solid #fbf52f;padding:30px 0 20px}.post{margin:0 0 40px}.post:last-child{margin-bottom:0}.post .content,.post .post-header{margin:0 auto;width:700px}.post .title{margin:0}.post .meta{color:#999;font-size:small;margin:10px 0 25px}.post-list .title{margin:0 auto 10px;width:700px}.post-list-item{line-height:1.6em;padding:10px 0;margin:0 auto;width:700px}.post-list-item:after{content:"";clear:both;display:block}.post-list-item__date{color:#999;float:left;font-size:small;width:80px}.post-list-item__title{font-size:large;float:left;width:620px;margin:0}.post-list-item__title a{font-weight:700;text-decoration:none}.content{line-height:1.6em}.content img{max-width:100%}.social-buttons{margin:2em 0 0}.comments{margin:0 auto 3em;width:700px}.table-wrapper{overflow-x:auto}table{border-collapse:collapse;margin:2em 0}th{font-weight:400;text-align:left}tbody{border-top:1px solid #333;padding:.5em 0}td,th{padding-right:1em}.hljs{line-height:1.5em;padding:10px 15px;overflow-x:auto}code{background-color:#f8f8f2;padding:.1em .2em;font-size:.85em;font-family:Monaco,'Lucida Console',monospace}.pagination{list-style-position:outside;list-style-type:none;padding:0;margin:-20px auto 0;width:700px}.pagination:after{content:"";clear:both;display:block}.pagination li{float:left;font-weight:700;min-height:1em}.pagination a{text-decoration:none}.pagination__prev-page{float:left;width:35%}.pagination__prev-page a:before{content:"< "}.pagination__next-page{float:right;text-align:right;width:35%}.pagination__next-page a:after{content:" >"}.pagination__archives{text-align:center;width:30%}@media only screen and (max-width:767px){h1{font-size:24px}.comments,.pagination,.post .content,.post .post-header,.post-list .title,.post-list-item{margin-left:20px;margin-right:20px;width:auto}.post-list-item__title{width:100%}.hljs{margin-left:-20px;margin-right:-20px;padding:1.4em 20px}}</style>
      </head>
      <body>
        <div id="container"><div data-reactroot=""><header class="header"><h1 class="header__title"><a href="/">Shuhei Kagawa</a></h1><nav><ul class="menu"><li class="menu__item"><a href="/about/">About</a></li><li class="menu__item"><a href="/works/">Works</a></li><li class="menu__item"><a href="/blog/archives/">Archives</a></li></ul></nav></header><div class="main"><div><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2009/10/10/python-challenge-from-0-to-5/">Python Challenge Lv. 0 - 5</a></h1><div class="meta">@<span class="date">2009-10-10 15:38</span></div></div><div class="content"><div><p>ふと mixi の Python コミュニティを覗いたら <a href="http://www.pythonchallenge.com">Python Challenge</a> なるものを発見。<br />
プログラムを書いて解いてゆくクイズです。面白そうなのでやってみました。<br />
最近マイブームな Ruby で。</p>
<p>以下、ネタバレ注意です。</p>
<h3>Level 0</h3>
<pre class="prettyprint">2 ** 38</pre>
<h3>Level 1</h3>
<pre class="prettyprint">cipher = "g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj."
abc = ("a"[0] .. "z"[0]).to_a
cde = ("c"[0] .. "z"[0]).to_a + ["a"[0], "b"[0]]
dict = Hash[*abc.zip(cde).flatten]
cipher.bytes do |ch|
  ch = dict[ch] if dict.has_key?(ch)
  printf("%c", ch)
end</pre>
<h3>Level 2</h3>
<p>ターミナルにコピペしたらおかしくなったので、一旦 mess_2.txt に保存。</p>
<pre class="prettyprint">File.open("mess_2.txt") do |f|
  while ch = f.getc
    printf("%c", ch) if ("a"[0] .. "z"[0]).include?(ch)
  end
end</pre>
<p>ファイルの中身を1バイトずつ読み込んで、アルファベットだけ抜き出します。</p>
<h3>Level 3</h3>
<pre class="prettyprint">pattern = /[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]/
File.open("mess_3.txt") do |f|
  p f.read.scan(pattern).to_s
end</pre>
<p>Ruby でグローバルマッチしたい時って <code>String#scan</code> 使うしかないの？</p>
<h3>Level 4</h3>
<pre class="prettyprint">num = "12345"
require "net/http"
def get_nothing(num)
  return Net::HTTP.get URI.parse("http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing=" + num)
end
400.times do
  content = get_nothing(num)
  m = /and the next nothing is ([0-9]+)/.match(content)
  p num
  p content
  if m != nil then
    num = m[1]
  else
    exit
  end
end</pre>
<p>途中でひっかけがありますが・・・。そこは手作業で。</p>
<h3>Level 5</h3>
<p>意味がわからずカンニング。<br />
<a href="http://unixwars.com/2007/09/11/python-challenge-level-5-peak-hell/?wscr=1280x800">Python Challenge level 5: “peak hell” | UnixWars</a><br />
Python の Pickle モジュールを使う問題だとか。知らんがな。</p>
<pre class="prettyprint">import urllib, pickle
uri = "http://www.pythonchallenge.com/pc/def/banner.p"
obj = pickle.load(urllib.urlopen(uri))
for line in obj:
  l = ""
  for pair in line:
    l += pair[0] * pair[1]
    print l</pre>
<h3>今日はここまで</h3>
<p>続きはまた今度。</p></div></div></div><div class="comments"><div id="disqus_thread"></div><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></div><footer class="footer">© <!-- -->Shuhei Kagawa</footer></div></div>
        <script><!--
          window.__PRELOADED_PROPS__ = {"site":{"title":"Shuhei Kagawa","author":"Shuhei Kagawa","perPage":3,"newPageExtension":"markdown","blogDir":"blog","sourceDir":"source","layoutDir":"_layouts","postDir":"_posts","cssFiles":["node_modules/highlight.js/styles/monokai-sublime.css","source/_css/style.css"]},"post":{"layout":"post","title":"Python Challenge Lv. 0 - 5","published":true,"date":"2009-10-10 15:38","comments":true,"tags":null,"categories":[],"url":"/blog/2009/10/10/python-challenge-from-0-to-5/","content":"<p>ふと mixi の Python コミュニティを覗いたら <a href=\"http://www.pythonchallenge.com\">Python Challenge</a> なるものを発見。<br />\nプログラムを書いて解いてゆくクイズです。面白そうなのでやってみました。<br />\n最近マイブームな Ruby で。</p>\n<p>以下、ネタバレ注意です。</p>\n<h3>Level 0</h3>\n<pre class=\"prettyprint\">2 ** 38</pre>\n<h3>Level 1</h3>\n<pre class=\"prettyprint\">cipher = \"g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj.\"\nabc = (\"a\"[0] .. \"z\"[0]).to_a\ncde = (\"c\"[0] .. \"z\"[0]).to_a + [\"a\"[0], \"b\"[0]]\ndict = Hash[*abc.zip(cde).flatten]\ncipher.bytes do |ch|\n  ch = dict[ch] if dict.has_key?(ch)\n  printf(\"%c\", ch)\nend</pre>\n<h3>Level 2</h3>\n<p>ターミナルにコピペしたらおかしくなったので、一旦 mess_2.txt に保存。</p>\n<pre class=\"prettyprint\">File.open(\"mess_2.txt\") do |f|\n  while ch = f.getc\n    printf(\"%c\", ch) if (\"a\"[0] .. \"z\"[0]).include?(ch)\n  end\nend</pre>\n<p>ファイルの中身を1バイトずつ読み込んで、アルファベットだけ抜き出します。</p>\n<h3>Level 3</h3>\n<pre class=\"prettyprint\">pattern = /[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]/\nFile.open(\"mess_3.txt\") do |f|\n  p f.read.scan(pattern).to_s\nend</pre>\n<p>Ruby でグローバルマッチしたい時って <code>String#scan</code> 使うしかないの？</p>\n<h3>Level 4</h3>\n<pre class=\"prettyprint\">num = \"12345\"\nrequire \"net/http\"\ndef get_nothing(num)\n  return Net::HTTP.get URI.parse(\"http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing=\" + num)\nend\n400.times do\n  content = get_nothing(num)\n  m = /and the next nothing is ([0-9]+)/.match(content)\n  p num\n  p content\n  if m != nil then\n    num = m[1]\n  else\n    exit\n  end\nend</pre>\n<p>途中でひっかけがありますが・・・。そこは手作業で。</p>\n<h3>Level 5</h3>\n<p>意味がわからずカンニング。<br />\n<a href=\"http://unixwars.com/2007/09/11/python-challenge-level-5-peak-hell/?wscr=1280x800\">Python Challenge level 5: “peak hell” | UnixWars</a><br />\nPython の Pickle モジュールを使う問題だとか。知らんがな。</p>\n<pre class=\"prettyprint\">import urllib, pickle\nuri = \"http://www.pythonchallenge.com/pc/def/banner.p\"\nobj = pickle.load(urllib.urlopen(uri))\nfor line in obj:\n  l = \"\"\n  for pair in line:\n    l += pair[0] * pair[1]\n    print l</pre>\n<h3>今日はここまで</h3>\n<p>続きはまた今度。</p>"}};
        --></script>
        <script src="/js/index.js"></script>
      </body>
    </html>