{"site":{"title":"Shuhei Kagawa","author":"Shuhei Kagawa","perPage":3,"newPageExtension":"markdown","blogDir":"blog","sourceDir":"source","layoutDir":"_layouts","postDir":"_posts","cssFiles":["node_modules/highlight.js/styles/monokai-sublime.css","source/_css/style.css"]},"post":{"layout":"post","title":"const とポインタ","published":true,"date":"2009-08-01 14:45","comments":true,"tags":null,"categories":["C/C++"],"url":"/blog/2009/08/01/const-and-pointe/","content":"<p>下のように <code>const</code> は型名の前後どちらに書いても同じです。</p>\n<pre class=\"prettyprint\">const int a = 1;\nint const b = 2;</pre>\n<p><a href=\"http://www.research.att.com/~bs/bs_faq2.html#constplacement\">Bjarne Stroustrup&#8217;s C++ Style and Technique <span class=\"caps\">FAQ</span></a> では、前者がわかりやすくおすすめとされていますが。</p>\n<p>では、ポインタについてはどうでしょうか？</p>\n<pre class=\"prettyprint\">const int* pa = new int(10);  // \"const な int\" へのポインタ\nint const* pb = new int(11);  // \"const な int \" へのポインタ\nint* const pc = new int(12);  // int への  \"const なポインタ\"</pre>\n<p>一つ目と二つ目は同じです。では、どのような挙動になるのでしょうか？</p>\n<pre class=\"prettyprint\">// *pa = 20;  // エラー！ \"const な int\" の値を変えることはできない\n// *pb = 21;  // エラー！ \"const な int\" の値を変えることはできない\n*pc = 23;\n\ndelete pa;   // delete はできる\ndelete pb;   // delete はできる\ndelete pc;\n\npa = NULL;\npb = NULL;\n// pc = NULL;  // エラー！ポインタ自体が const なため</pre>\n<p>というような感じになります。普通は <code>const int* pa</code> の方を使う機会が多いような気がしますね。</p>"}}