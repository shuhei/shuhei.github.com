<!DOCTYPE html><html><head><title>Shuhei Kagawa</title><meta charset="utf-8"><meta name="viewport" content="initial-scale=1"><link rel="icon" sizes="16x16 32x32 48x48" href="/favicon.ico"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Asap:400,700"><link rel="stylesheet" href="/css/style.css"></head><body><header class="header"><h1 class="header__title"><a href="/">Shuhei Kagawa</a></h1><nav><ul class="menu"><li class="menu__item"><a href="/about">About</a></li><li class="menu__item"><a href="/works">Works</a></li><li class="menu__item"><a href="/blog/archives">Archives</a></li></ul></nav></header><div class="main"><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2015/11/29/algorithms-part-1">Algorithms: Design and Analysis, Part 1</a></h1><div class="meta">@<span class="date">2015-11-29 23:35</span> - <span class="category">Algorithms</span></div></div><div class="content"><p>Today I finished the final exam of Stanford&#39;s <a href="https://www.coursera.org/course/algo">&quot;Algorithms: Design and Analysis, Part 1&quot;</a> at Coursera. I solved all its programming assignments with JavaScript and put the solutions at GitHub:</p>
<ul>
<li><a href="https://github.com/shuhei/algo">shuhei/algo</a></li>
</ul>
<p>The course focused on fundamental algorithms and their analysis. What I learned so far were:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Divide_and_conquer_algorithms">Divide-and-conquer algorithms</a> and analysis with <a href="https://en.wikipedia.org/wiki/Master_theorem">Master Method</a>: <a href="https://en.wikipedia.org/wiki/Merge_sort">merge sort</a> and <a href="https://en.wikipedia.org/wiki/Quicksort">quick sort</a></li>
<li>Graph algorithms: <a href="https://en.wikipedia.org/wiki/Minimum_cut">minimum cut</a>, <a href="https://en.wikipedia.org/wiki/Depth-first_search">depth-first</a> and <a href="https://en.wikipedia.org/wiki/Breadth-first_search">breadth-first</a> search, <a href="https://en.wikipedia.org/wiki/Strongly_connected_component">strongly connected components</a>, <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra&#39;s shortest-path</a></li>
<li>Data structures: <a href="https://en.wikipedia.org/wiki/Heap_(data_structure">heaps</a>, <a href="https://en.wikipedia.org/wiki/Hash_table">hash tables</a> and <a href="https://en.wikipedia.org/wiki/Binary_search_tree">binary search trees</a></li>
</ul>
<p>As a self-taught programmer, I had been away from formal Computer Science topics like big O notation. But after I learned <a href="https://www.coursera.org/learn/machine-learning">Machine Learning</a> and tried to implement some ML algorithms for large datasets a few months ago, I noticed that I needed some knowledge of basic algorithms and mathematical analysis of them.</p>
<p>The Algorithms course focused not only on algorithms themselves but also on their performance analysis and mathematical proofs. The analysis and proofs are crucial especially for the cases when we design custom algorithms for real-world problems in the future, and more importantly made me more confident about the algorithms.</p>
<p>Another good side effect of the course was that I got interested in Mathematics. Through the course and a study meetings on <a href="https://mitpress.mit.edu/sicp/">SICP</a> with my co-workers, I noticed that Mathematics is interesting but I lacked some prerequisites to understand it. At the moment, I came across <a href="http://www.amazon.com/Introduction-Mathematical-Thinking-Keith-Devlin/dp/0615653634">Introduction to Mathematical Thinking</a> by Keith Devlin. It was written to fill the gap between the school math, which focuses following given procedures, and the college math, which focuses on thinking. It is perfect for someone like me, who skipped proper Mathematics training at college. I am still on the way reading it but it already started working on my analysis of the SICP exercises.</p>
<p><a href="https://www.coursera.org/course/algo2">The part 2 of the course</a> will start probably on March 2016. I cannot wait for it to start and get my eyes open again.</p>
</div></div><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2015/10/25/node-executable-module">Node.js executable module</a></h1><div class="meta">@<span class="date">2015-10-25 22:42</span> - <span class="category">JavaScript</span></div></div><div class="content"><p>You may want to create a Node module that is also an executable. The convention is to create two files, one for lib and the other for bin, but I think it&#39;s OK for simple modules.</p>
<p>To achieve it, you need to detect whether it&#39;s executed as an entry point. According to <a href="https://nodejs.org/api/modules.html#modules_accessing_the_main_module">the official documentation of Node</a>:</p>
<blockquote>
<p>When a file is run directly from Node.js, <code>require.main</code> is set to its module. That means that you can determine whether a file has been run directly by testing</p>
<pre><code class="hljs undefined">require.main === module</code></pre></blockquote>
<p>For example:</p>
<pre><code class="hljs js">#!/usr/bin/env node

function sum(a, b) {
  return a + b;
}

module.exports = sum;

if (require.main === module) {
  var a = parseInt(process.argv[2], 10);
  var b = parseInt(process.argv[3], 10);
  console.log(sum(a, b));
}</code></pre><p>Then you can use it as an executable and a module.</p>
<pre><code class="hljs sh">$ node sum.js <span class="hljs-number">3</span> <span class="hljs-number">4</span>
<span class="hljs-number">7</span>
$ node
&gt; require(<span class="hljs-string">'./sum'</span>)(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
<span class="hljs-number">7</span></code></pre></div></div><div class="post"><div class="post-header"><h1 class="title"><a href="/blog/2015/10/18/color-prompt-by-exit-code">Color prompt by exit code</a></h1><div class="meta">@<span class="date">2015-10-18 19:11</span> - <span class="category">Bash</span></div></div><div class="content"><p>The idea of customizing bash prompt hooked me a few months ago. I tried a few crazy things like <a href="https://github.com/shuhei/dotfiles/commit/a45d8c88d4c02737dad397b56624895bb715f5b5">showing random emojis</a> and finally settled down with just showing the current directory, git branch and status.</p>
<p>At <a href="http://nodejs.connpass.com/event/20646/">Tokyo Node Gakuen #18</a> on October 8th, <a href="https://twitter.com/yosuke_furukawa">@yosuke_furukawa</a> <a href="https://speakerdeck.com/yosuke_furukawa/node-dot-js-v4-falsehua-number-tng18">talked about Node.js v4.0</a>. Aside from the well-organized and informative talk, I found another interesting thing at his demo. His terminal prompt <em>turned red when a command failed</em>.</p>
<p>It looked pretty and useful. So I emulated it.</p>
<p><img src="/images/prompt-exit-code.gif" alt="Changing prompt color "></p>
<p>The code in <code>.bash_profile</code> is pretty straightforward. It changes the prompt color depending on whether the exit code is 0 or not. The only one trick is to capture the exit code at the very first line of the prompt command to prevent it from being changed in prior lines.</p>
<pre><code class="hljs sh"><span class="hljs-comment"># Colors</span>
light_green=<span class="hljs-string">"\[\e[1;32m\]"</span>
light_red=<span class="hljs-string">"\[\e[1;31m\]"</span>
yellow=<span class="hljs-string">"\[\e[0;33m\]"</span>
gray=<span class="hljs-string">"\[\e[0;37m\]"</span>
reset=<span class="hljs-string">"\[\e[m\]"</span>

<span class="hljs-comment"># Customize prompt</span>
<span class="hljs-function"><span class="hljs-title">prompt_command</span></span>() {
  <span class="hljs-built_in">local</span> status=<span class="hljs-string">"$?"</span>
  <span class="hljs-built_in">local</span> status_color=<span class="hljs-string">""</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$status</span> != <span class="hljs-number">0</span> ]; <span class="hljs-keyword">then</span>
    status_color=<span class="hljs-variable">$light_red</span>
  <span class="hljs-keyword">else</span>
    status_color=<span class="hljs-variable">$light_green</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-built_in">export</span> PS1=<span class="hljs-string">"[<span class="hljs-variable">${yellow}</span>\w<span class="hljs-variable">${reset}</span>]<span class="hljs-variable">${gray}</span><span class="hljs-variable">$(__git_ps1)</span><span class="hljs-variable">${reset}</span> <span class="hljs-variable">${status_color}</span>Î»<span class="hljs-variable">${reset}</span> "</span>
}
<span class="hljs-built_in">export</span> GIT_PS1_SHOWDIRTYSTATE=<span class="hljs-number">1</span>
<span class="hljs-built_in">export</span> PROMPT_COMMAND=prompt_commandsh</code></pre><p>One of the advantages of attending real events over just browsing slides online is being able to take a peek of other people&#39;s dev environments. Looking forward to seeing more cool stuff on upcoming events like <a href="http://nodefest.jp/2015/">Tokyo Node Fest 2015</a>.</p>
</div></div><ul class="pagination"><li class="pagination__prev-page"></li><li class="pagination__archives"><a href="/blog/archives">Archives</a></li><li class="pagination__next-page"><a href="/blog/pages/2">Older Posts</a></li></ul></div><footer class="footer">&copy; Shuhei Kagawa<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-309586-8', 'shuheikagawa.com');
ga('send', 'pageview');</script></footer></body></html>