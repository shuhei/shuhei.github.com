const { blogPermalink } = require("../../lib/filters/permalink");

// Provide common fields for all the posts.
module.exports = {
  layout: "layouts/post",
  eleventyComputed: {
    // The image is generated by blog/title-image.11ty.js.
    image({ image, site, page }) {
      if (image) {
        if (image.startsWith("/")) {
          return `${site.hostname}${image}`;
        }
        return image;
      }
      return `/${blogPermalink(page, "title.png")}`;
    }
  }
};
